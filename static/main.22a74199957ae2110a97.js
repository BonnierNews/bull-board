(()=>{"use strict";var e={6943:(e,t,n)=>{var a=n(7294),r=n(3935),l=n(3727),c=n(5977),o=n(9249);var u=function(e){var t=e.children;return a.createElement("header",{className:"_2Aco7d"},a.createElement("div",{className:"jsJzd4"},"ðŸŽ¯ Bull Dashboard"),t)},s=n(3038),i=n.n(s),m="waiting",d="completed",f="failed",v="delayed",p=["latest","active",m,d,f,v,"paused"];var h=function(e){var t=e.queues;return a.createElement("aside",{className:"_2VX6LF"},a.createElement("div",null,"QUEUES"),a.createElement("nav",null,!!t&&a.createElement("ul",{className:"dKza92"},t.map((function(e){return a.createElement("li",{key:e},a.createElement(l.OL,{to:"/queue/".concat(e),activeClassName:"_3ujag1",title:e},e))})))),a.createElement("div",{className:"_2v0kj9"},"1.4.1"))},E=n(4575),y=n.n(E),g=n(3913),b=n.n(g),k=n(1506),N=n.n(k),x=n(2205),w=n.n(x),_=n(8585),C=n.n(_),A=n(9754),O=n.n(A),q=n(9713),j=n.n(q),S=n(7802),J=n.n(S),R=n(2026),D=n.n(R);J().registerLanguage("json",D()),J().registerLanguage("stacktrace",(function(){var e={className:"number",begin:":\\d+:\\d+",relevance:5};return{case_insensitive:!0,contains:[{className:"type",begin:/^\w*Error:\s*/,relevance:40,contains:[{className:"title",begin:/.*/,end:/$/,excludeStart:!0,endsWithParent:!0}]},{className:"trace-line",begin:/^\s*at/,end:/$/,keywords:"at as async prototype anonymous function",contains:[{className:"code-path",begin:/\(/,end:/\)$/,excludeEnd:!0,excludeBegin:!0,contains:[e]}]},e]}}));var P=function(e){w()(l,e);var t,n,r=(t=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=O()(t);if(n){var r=O()(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return C()(this,e)});function l(){var e;y()(this,l);for(var t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];return e=r.call.apply(r,[this].concat(n)),j()(N()(e),"codeRef",a.createRef()),e}return b()(l,[{key:"shouldComponentUpdate",value:function(e){return e.language!==this.props.language||(Array.isArray(this.props.children)?this.props.children.some((function(t){return![].concat(e.children).includes(t)})):e.children!==this.props.children)}},{key:"componentDidMount",value:function(){this.highlightCode()}},{key:"componentDidUpdate",value:function(){this.highlightCode()}},{key:"render",value:function(){var e=this.props,t=e.language,n=e.children;return a.createElement("pre",{ref:this.codeRef},a.createElement("code",{className:t},n))}},{key:"highlightCode",value:function(){var e,t=null===(e=this.codeRef.current)||void 0===e?void 0:e.querySelector("code");J().highlightBlock(t)}}]),l}(a.Component),F=["Data","Options"],I=n(7154),M=n.n(I),z=n(6479),B=n.n(z);var H=n(4184),V=n.n(H),T=function(e){var t=e.children,n=e.className,r=e.isActive,l=void 0!==r&&r,c=B()(e,["children","className","isActive"]);return a.createElement("button",M()({type:"button"},c,{className:V()("_1DTJkN",n,j()({},"_209I28",l))}),t)};var U=function(e){var t=e.status,n=e.job,r=function(e){var t=(0,a.useState)([]),n=i()(t,2),r=n[0],l=n[1],c=(0,a.useState)(0),o=i()(c,2),u=o[0],s=o[1],m=r[u];return(0,a.useEffect)((function(){l((e===f?["Error"]:[]).concat(F))}),[e]),{tabs:r.map((function(e,t){return{title:e,isActive:e===m,selectTab:function(){return s(t)}}})),selectedTab:m,getTabContent:function(e){var t=e.data,n=e.returnValue,r=e.opts,l=e.failedReason,c=e.stacktrace;switch(m){case"Data":return a.createElement(P,{language:"json"},JSON.stringify({data:t,returnValue:n},null,2));case"Options":return a.createElement(P,{language:"json"},JSON.stringify(r,null,2));case"Error":return a.createElement(a.Fragment,null,0===c.length?a.createElement("div",{className:"error"},l||"NA"):a.createElement(P,{language:"stacktrace",key:"stacktrace"},c));default:return null}}}}(t),l=r.tabs,c=r.getTabContent;return 0===l.length?null:a.createElement("div",{className:"_3VVSrS"},a.createElement("ul",{className:"KNIyF3"},l.map((function(e){return a.createElement("li",{key:e.title},a.createElement(T,{onClick:e.selectTab,isActive:e.isActive},e.title))}))),a.createElement("div",{className:"_24Hxlt"},a.createElement("div",null,c(n))))},L=function(){return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},a.createElement("path",{d:"M5 4a2 2 0 0 0-2 2v6H0l4 4 4-4H5V6h7l2-2H5zm10 4h-3l4-4 4 4h-3v6a2 2 0 0 1-2 2H6l2-2h7V8z"}))},Z=function(){return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},a.createElement("path",{d:"M6 2l2-2h4l2 2h4v2H2V2h4zM3 6h14l-1 14H4L3 6zm5 2v10h1V8H8zm3 0v10h1V8h-1z"}))};var K=function(e){var t=e.title,n=e.children;return a.createElement("span",{"data-title":t,className:"hi2qWC"},n)};var W,Q={promote:{title:"Promote",Icon:function(){return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},a.createElement("path",{d:"M15 17v-2.99A4 4 0 0 0 11 10H8v5L2 9l6-6v5h3a6 6 0 0 1 6 6v3h-2z"}))},actionKey:"promoteJob"},clean:{title:"Clean",Icon:Z,actionKey:"cleanJob"},retry:{title:"Retry",Icon:L,actionKey:"retryJob"}},$=(W={},j()(W,f,[Q.retry,Q.clean]),j()(W,v,[Q.promote,Q.clean]),j()(W,d,[Q.clean]),j()(W,m,[Q.clean]),W),G=function(e){var t=e.actions,n=e.status,r=$[n];return r?a.createElement("ul",{className:"_2B_lh1"},r.map((function(e){return a.createElement("li",{key:e.title},a.createElement(K,{title:e.title},a.createElement(T,{onClick:t[e.actionKey],className:"_3RePN4"},a.createElement(e.Icon,null))))}))):null};var X=function(e){var t=e.percentage,n=e.status,r=e.className;return a.createElement("svg",{className:V()("_1OABR5",r),viewBox:"0 0 148 148"},a.createElement("circle",{cx:"70",cy:"70",r:"70",fill:"none",stroke:"#EDF2F7",strokeWidth:"8",strokeLinecap:"round",style:{transform:"translate(4px, 4px)"}}),a.createElement("circle",{cx:"70",cy:"70",r:"70",fill:"none",stroke:"failed"===n?"#F56565":"#48BB78",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:"600",strokeDashoffset:600-440*t/100,style:{transform:"translate(4px, -4px) rotate(-90deg)"}}),a.createElement("text",{textAnchor:"middle",x:"74",y:"88"},t,"%"))},Y=n(8767),ee=n(4902),te=n(5570),ne=n(4189);var ae=function(e){return(0,Y.Z)(e)?(0,ee.Z)(e,"HH:mm:ss"):(0,te.Z)(e)===(0,te.Z)(new Date)?(0,ee.Z)(e,"MM/dd HH:mm:ss"):(0,ee.Z)(e,"MM/dd/yyyy HH:mm:ss")},re=function(e){var t=e.job,n=e.status;return a.createElement("div",{className:"nvU0WZ"},a.createElement("ul",{className:"_1no2yN"},a.createElement("li",null,a.createElement("small",null,"Added at"),a.createElement("time",null,ae(t.timestamp||0))),!!t.delay&&t.delay>0&&"delayed"===n&&a.createElement("li",null,a.createElement("small",null,"Delayed for"),a.createElement("time",null,(0,ne.Z)(t.timestamp||0,(t.timestamp||0)+t.delay,{includeSeconds:!0}))),!!t.processedOn&&a.createElement("li",null,a.createElement("small",null,t.delay&&t.delay>0?"delayed for ":"",(0,ne.Z)(t.processedOn,t.timestamp||0,{includeSeconds:!0})),a.createElement("small",null,"Process started at"),a.createElement("time",null,ae(t.processedOn))),!!t.finishedOn&&a.createElement("li",null,a.createElement("small",null,(0,ne.Z)(t.finishedOn,t.processedOn||0,{includeSeconds:!0})),a.createElement("small",null,"failed"===n?"Failed":"Finished"," at"),a.createElement("time",null,ae(t.finishedOn)))))},le=function(e){var t=e.job,n=e.status,r=e.actions,l=e.readOnlyMode;return a.createElement("div",{className:"yiynSc"},a.createElement("div",{className:"KTlu3o"},a.createElement("span",{title:"#".concat(t.id)},"#",t.id),a.createElement(re,{job:t,status:n})),a.createElement("div",{className:"_1_sGJV"},a.createElement("div",{className:"_1ya9RN"},a.createElement("h4",null,t.name,t.attempts>0&&a.createElement("span",null,"attempt #",t.attempts+1)),!l&&a.createElement(G,{status:n,actions:r})),a.createElement("div",{className:"_2_NJn7"},a.createElement(U,{status:n,job:t}),"number"==typeof t.progress&&a.createElement(X,{percentage:t.progress,status:n,className:"_2tT_1T"}))))};const ce="_5DjAJz";var oe=["failed","delayed","completed"],ue=function(e){var t=e.onClick;return a.createElement(T,{onClick:t,className:ce},a.createElement(Z,null),"Clean all")},se=function(e){var t=e.status,n=e.actions,r=e.queue;return function(e){return oe.includes(e)}(t)?a.createElement("ul",{className:"_21KvqB"},"failed"===t&&a.createElement(a.Fragment,null,a.createElement("li",null,a.createElement(T,{onClick:n.retryAll(r.name),className:ce},a.createElement(L,null),"Retry all")),a.createElement("li",null,a.createElement(ue,{onClick:n.cleanAllFailed(r.name)}))),"delayed"===t&&a.createElement("li",null,a.createElement(ue,{onClick:n.cleanAllDelayed(r.name)})),"completed"===t&&a.createElement("li",null,a.createElement(ue,{onClick:n.cleanAllCompleted(r.name)}))):null};var ie=function(e){var t=e.queue,n=e.selectedStatus,r=e.onChange;return a.createElement("div",{className:"_3JC3a0"},p.map((function(e){var l=n[t.name]===e;return a.createElement("button",{type:"button",key:"".concat(t.name,"-").concat(e),onClick:function(){return r(j()({},t.name,e))},className:V()(j()({},"_1ie-Eq",l))},e,t.counts[e]>0&&a.createElement("span",{className:"_24eLZu"},t.counts[e]))})))};var me=function(e){var t=e.selectedStatus,n=e.actions,r=e.queue;return r?a.createElement("section",null,a.createElement("div",{className:"_3haqVL"},a.createElement(ie,{queue:r,selectedStatus:t,onChange:n.setSelectedStatuses}),!r.readOnlyMode&&a.createElement(se,{queue:r,actions:n,status:t[r.name]})),r.jobs.map((function(e){return a.createElement(le,{key:e.id,job:e,status:t[r.name],actions:{cleanJob:n.cleanJob(null==r?void 0:r.name)(e),promoteJob:n.promoteJob(null==r?void 0:r.name)(e),retryJob:n.retryJob(null==r?void 0:r.name)(e)},readOnlyMode:null==r?void 0:r.readOnlyMode})}))):a.createElement("section",null,"Queue Not found")},de=n(8600),fe=n.n(de);var ve=function(){return a.createElement("svg",{width:42,role:"img",viewBox:"0 0 24 24"},a.createElement("path",{fill:"#CBD5E0",d:"M23.99314 6.28305c.012-.244-.307-.458-.949-.694-1.248-.457-7.843-3.082-9.106-3.545-1.263-.462-1.777-.443-3.261.089-1.484.533-8.506 3.287-9.755 3.776-.625.246-.931.473-.92.715v2.426c0 .242.334.498.97.802 1.272.608 8.332 3.461 9.448 3.994 1.116.533 1.9.54 3.313-.196 1.412-.736 8.047-3.465 9.328-4.132.651-.34.939-.604.939-.843 0-.225.001-2.392.001-2.392h-.008zm-15.399 2.296l5.561-.854-1.68 2.463-3.881-1.609zm12.299-2.218l-3.288 1.299-.357.14-3.287-1.299 3.642-1.44 3.29 1.3zm-9.655-2.383l-.538-.992 1.678.656 1.582-.518-.428 1.025 1.612.604-2.079.216-.466 1.12-.752-1.249-2.401-.216 1.792-.646zm-4.143 1.399c1.642 0 2.972.516 2.972 1.152 0 .636-1.331 1.152-2.972 1.152s-2.973-.517-2.973-1.152c0-.636 1.331-1.152 2.973-1.152z"}),a.createElement("path",{fill:"#E2E8F0",d:"M23.99314 10.38505c-.011.229-.313.484-.934.809-1.281.667-7.916 3.396-9.328 4.132-1.413.736-2.197.729-3.313.196-1.116-.533-8.176-3.386-9.448-3.994-.635-.303-.959-.56-.97-.801v2.426c0 .242.334.498.97.802 1.272.608 8.332 3.46 9.448 3.993 1.116.534 1.9.541 3.313-.195 1.412-.736 8.047-3.465 9.328-4.132.651-.34.939-.604.939-.843 0-.226.001-2.392.001-2.392-.001-.001-.004 0-.006-.001z"}),a.createElement("path",{fill:"#EDF2F7",d:"M23.99414 14.34005c-.01.229-.313.485-.935.81-1.281.667-7.916 3.396-9.328 4.132-1.413.736-2.197.729-3.313.195-1.116-.533-8.176-3.386-9.448-3.993-.635-.304-.959-.56-.97-.802v2.426c0 .242.334.499.97.803 1.272.608 8.333 3.46 9.448 3.993 1.116.534 1.9.541 3.313-.196 1.412-.736 8.047-3.464 9.328-4.132.651-.339.939-.603.939-.842 0-.226.001-2.392.001-2.392-.001-.001-.004-.001-.005-.002z"}))},pe=function(e){var t=e.stats,n=t.redis_version,r=t.used_memory,l=t.total_system_memory,c=t.mem_fragmentation_ratio,o=t.connected_clients,u=t.blocked_clients;return a.createElement("div",{className:"_3Ac7ya"},a.createElement("div",null,a.createElement(ve,null)),a.createElement("div",null,"Version",a.createElement("span",null,n)),a.createElement("div",null,"Memory usage",a.createElement("span",null,function(e,t){if(void 0===e)return"-";var n=parseInt(e,10);if(void 0===t)return fe()(n);var a=parseInt(t,10);return"".concat((n/a*100).toFixed(2),"%")}(r,l)),l&&r?a.createElement("small",null,fe()(parseInt(r))," of"," ",fe()(parseInt(l))):a.createElement("small",{className:"error"},"Could not retrieve memory stats")),a.createElement("div",null,"Fragmentation ratio",a.createElement("span",null,c)),a.createElement("div",null,"Connected clients",a.createElement("span",null,o)),a.createElement("div",null,"Blocked clients",a.createElement("span",null,u)))},he=function(e){var t,n,r,s,m,d=e.basePath,f=function(e){var t=(0,a.useState)({data:null,loading:!0}),n=i()(t,2),r=n[0],l=n[1],c=(0,a.useState)({}),o=i()(c,2),u=o[0],s=o[1],m=(0,a.useRef)(void 0),d=function(){m.current&&(clearTimeout(m.current),m.current=void 0)};(0,a.useEffect)((function(){return d(),f(),d}),[u]);var f=function e(){v().catch((function(e){return console.error("Failed to poll",e)})).then((function(){var t=setTimeout(e,5e3);m.current=t}))},v=function(){return e.getQueues({status:u}).then((function(e){l({data:e,loading:!1}),r.loading&&s(e.queues.reduce((function(e,t){return e[t.name]=e[t.name]||p[0],e}),{}))}))};return{state:r,actions:{promoteJob:function(t){return function(n){return function(){return e.promoteJob(t,n.id).then(v)}}},retryJob:function(t){return function(n){return function(){return e.retryJob(t,n.id).then(v)}}},retryAll:function(t){return function(){return e.retryAll(t).then(v)}},cleanJob:function(t){return function(n){return function(){return e.cleanJob(t,n.id).then(v)}}},cleanAllDelayed:function(t){return function(){return e.cleanAllDelayed(t).then(v)}},cleanAllFailed:function(t){return function(){return e.cleanAllFailed(t).then(v)}},cleanAllCompleted:function(t){return function(){return e.cleanAllCompleted(t).then(v)}},setSelectedStatuses:s},selectedStatuses:u}}(e.api),v=f.state,E=f.actions,y=f.selectedStatuses;return a.createElement(l.VK,{basename:d},a.createElement(u,null,(null===(t=v.data)||void 0===t?void 0:t.stats)&&a.createElement(pe,{stats:null===(n=v.data)||void 0===n?void 0:n.stats})),a.createElement("main",null,a.createElement("div",null,v.loading?"Loading...":a.createElement(c.rs,null,a.createElement(c.AW,{path:"/queue/:name",render:function(e){var t,n=e.match.params,r=null===(t=v.data)||void 0===t?void 0:t.queues.find((function(e){return e.name===n.name}));return a.createElement(me,{queue:r,actions:E,selectedStatus:y})}}),a.createElement(c.AW,{exact:!0,path:"/"},!!v.data&&Array.isArray(null===(r=v.data)||void 0===r?void 0:r.queues)&&v.data.queues.length>0&&a.createElement(c.l_,{to:"/queue/".concat(null===(s=v.data)||void 0===s?void 0:s.queues[0].name)}))))),a.createElement(h,{queues:null===(m=v.data)||void 0===m?void 0:m.queues.map((function(e){return e.name}))}),a.createElement(o.Ix,null))},Ee=n(7757),ye=n.n(Ee),ge=n(8926),be=n.n(ge),ke=n(9669),Ne=n.n(ke);function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e,Ce=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{basePath:""},n=t.basePath;y()(this,e),j()(this,"axios",void 0),this.axios=Ne().create({baseURL:"".concat(n,"/api")}),this.axios.interceptors.response.use(this.handleResponse,this.handleError)}var t;return b()(e,[{key:"getQueues",value:function(e){var t=e.status;return this.axios.get("/queues/",{params:we({},t)})}},{key:"retryAll",value:function(e){return this.axios.put("/queues/".concat(encodeURIComponent(e),"/retry"))}},{key:"cleanAllDelayed",value:function(e){return this.axios.put("/queues/".concat(encodeURIComponent(e),"/clean/delayed"))}},{key:"cleanAllFailed",value:function(e){return this.axios.put("/queues/".concat(encodeURIComponent(e),"/clean/failed"))}},{key:"cleanAllCompleted",value:function(e){return this.axios.put("/queues/".concat(encodeURIComponent(e),"/clean/completed"))}},{key:"cleanJob",value:function(e,t){return this.axios.put("/queues/".concat(encodeURIComponent(e),"/").concat(t,"/clean"))}},{key:"retryJob",value:function(e,t){return this.axios.put("/queues/".concat(encodeURIComponent(e),"/").concat(t,"/retry"))}},{key:"promoteJob",value:function(e,t){return this.axios.put("/queues/".concat(encodeURIComponent(e),"/").concat(t,"/promote"))}},{key:"handleResponse",value:function(e){return e.data}},{key:"handleError",value:(t=be()(ye().mark((function e(t){var n,a;return ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!==(n=t.response.data)&&void 0!==n&&n.error&&o.Am.error(null===(a=t.response.data)||void 0===a?void 0:a.error,{autoClose:5e3}),e.abrupt("return",Promise.resolve(t.response.data));case 2:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}(),Ae=(null===(_e=document.head.querySelector("base"))||void 0===_e?void 0:_e.getAttribute("href"))||"",Oe=new Ce({basePath:Ae});(0,r.render)(a.createElement(he,{basePath:Ae,api:Oe}),document.getElementById("root"))}},t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n.m=e,n.x=e=>{},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={main:0},t=[[6943,"vendor"]],a=e=>{},r=(r,l)=>{for(var c,o,[u,s,i,m]=l,d=0,f=[];d<u.length;d++)o=u[d],n.o(e,o)&&e[o]&&f.push(e[o][0]),e[o]=0;for(c in s)n.o(s,c)&&(n.m[c]=s[c]);for(i&&i(n),r&&r(l);f.length;)f.shift()();return m&&t.push.apply(t,m),a()},l=self.webpackChunkbull_board=self.webpackChunkbull_board||[];function c(){for(var a,r=0;r<t.length;r++){for(var l=t[r],c=!0,o=1;o<l.length;o++){var u=l[o];0!==e[u]&&(c=!1)}c&&(t.splice(r--,1),a=n(n.s=l[0]))}return 0===t.length&&(n.x(),n.x=e=>{}),a}l.forEach(r.bind(null,0)),l.push=r.bind(null,l.push.bind(l));var o=n.x;n.x=()=>(n.x=o||(e=>{}),(a=c)())})(),n.x()})();